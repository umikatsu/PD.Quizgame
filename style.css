/* ================================== */
/* 1. ãƒ†ãƒ¼ãƒã‚«ãƒ©ãƒ¼ã¨åŸºæœ¬è¨­å®š */
/* ================================== */
:root {
    --color-primary: #1E88E5; /* é’ */
    --color-success: #4CAF50; /* ç·‘ */
    --color-error: #F44336; /* èµ¤ */
    --color-text: #333; /* æ˜¼é–“ã®æ¨™æº–æ–‡å­—è‰² */
    --color-background: #0A1A2F; /* å¤œé–“èƒŒæ™¯ãƒ™ãƒ¼ã‚¹è‰² */
    --color-white: #FFFFFF; /* ç™½ */
    --color-quiz-green: #38c172; /* ã‚¹ã‚¿ãƒ¼ãƒˆãƒœã‚¿ãƒ³ã®è‰² */
    --p-background-color: #f0f8ff; /* è¨ºæ–­çµæœã®èƒŒæ™¯è‰² */
    --p-primary-color: var(--color-primary);
    --p-success-color: var(--color-success);
}

html, body {
    height: 100%;
    margin: 0;
    padding: 0;
    font-family: sans-serif;
    overflow: hidden; 
}

body {
    /* ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯å¤œé–“ãƒ¢ãƒ¼ãƒ‰ */
    background: linear-gradient(to bottom, #0A1A2F 0%, #003366 70%, #001A33 100%);
    color: var(--color-text);
    position: relative;
    transition: background 1s ease; 
}

/* ================================== */
/* 2. èƒŒæ™¯ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ (å¤œé–“ãƒ¢ãƒ¼ãƒ‰) */
/* ================================== */
.ocean {
    position: absolute; bottom: 0; left: 0; width: 200%; height: 25%;
    background: rgba(0, 60, 120, 0.9);
    border-top: 3px solid rgba(255, 255, 255, 0.2);
    animation: waveMove 6s infinite linear;
    transform: translateX(-25%); z-index: 1;
}
.ocean::before, .ocean::after {
    content: ""; position: absolute; top: -20px; left: 0; width: 200%; height: 100%;
    background: rgba(0, 90, 180, 0.4); border-top: 2px solid rgba(255, 255, 255, 0.2);
    animation: waveMove 8s infinite linear reverse;
}
@keyframes waveMove { from { transform: translateX(0); } to { transform: translateX(-50%); } }

.city {
    position: absolute; bottom: 25%; left: 0; width: 100%; height: 20%;
    background: repeating-linear-gradient(to right, #111 0 40px, #222 40px 60px, #111 60px 120px);
    clip-path: polygon(0% 100%, 0% 70%, 5% 60%, 10% 70%, 15% 55%, 20% 75%, 25% 50%, 30% 70%, 35% 60%, 40% 75%, 45% 55%, 50% 70%, 55% 60%, 60% 75%, 65% 55%, 70% 70%, 75% 60%, 80% 75%, 85% 50%, 90% 70%, 95% 55%, 100% 70%, 100% 100%);
    z-index: 2;
}

.lightning {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    background: radial-gradient(ellipse at center, rgba(255,255,255,0.8), transparent 70%);
    opacity: 0; animation: lightningFlash 5s infinite; 
    pointer-events: none; z-index: 3;
}
@keyframes lightningFlash { 0%, 90%, 100% { opacity: 0; } 2%, 3%, 5% { opacity: 1; } 40%, 41% { opacity: 0.8; } 65%, 66% { opacity: 0.9; } }
.lightning::after {
    content: ""; position: absolute; top: 0; left: 50%; width: 8px; height: 100%;
    background: transparent; border-right: 5px solid white; opacity: 0; box-shadow: 0 0 30px 5px #ffcc00; 
    clip-path: polygon(50% 0%, 0% 10%, 100% 20%, 0% 30%, 100% 40%, 0% 50%, 100% 60%, 0% 70%, 100% 80%, 0% 90%, 50% 100%);
    transform: translateX(-50%); animation: boltStrike 5s infinite; 
}
@keyframes boltStrike { 0%, 90%, 100% { opacity: 0; height: 0; } 2% { opacity: 1; height: 70%; } 3% { opacity: 0; } 40% { opacity: 1; height: 100%; } 41% { opacity: 0; } 65% { opacity: 1; height: 85%; } 66% { opacity: 0; } }


/* ================================== */
/* 3. ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ†ãƒ¼ãƒ (æ˜¼é–“ãƒ¢ãƒ¼ãƒ‰) */
/* ================================== */
body.light-theme {
    /* æ˜¼é–“ã®èƒŒæ™¯è‰² (æ˜ã‚‹ã„é’ç©º) */
    background: linear-gradient(to bottom, #B3E5FC 0%, #E1F5FE 70%, #FFFFFF 100%); 
    color: var(--color-text);
}

/* Light Mode: å¤œé–“èƒŒæ™¯è¦ç´ ã‚’éè¡¨ç¤º */
body.light-theme .lightning,
body.light-theme .ocean {
    display: none !important;
}

body.light-theme .city {
    /* æ˜¼é–“ã¯è¡—ä¸¦ã¿ãŒæ˜ã‚‹ãè¦‹ãˆã‚‹ */
    bottom: 0; 
    height: 30%;
    background: repeating-linear-gradient(to right, #AAA 0 40px, #CCC 40px 60px, #AAA 60px 120px);
    z-index: 1; 
}

/* Light Mode: ãƒœã‚¿ãƒ³èª¿æ•´ */
body.light-theme .navigation-button {
    /* ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ã®èƒŒæ™¯è‰²ï¼ˆæ˜¼é–“ï¼‰ */
    background: rgba(0, 0, 0, 0.1);
    border: 1px solid rgba(0, 0, 0, 0.3);
}
body.light-theme .navigation-button:hover {
    background: rgba(0, 0, 0, 0.3);
}


/* ================================== */
/* 4. UIå…±é€šã‚¹ã‚¿ã‚¤ãƒ« */
/* ================================== */
.full-screen-ui {
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    min-height: 100vh; text-align: center; padding: 20px;
    background: rgba(0, 0, 0, 0.4);
    position: absolute; 
    top: 0; left: 0; width: 100%; height: 100%;
    z-index: 5;
}
.hidden { 
    display: none !important; 
}

/* --- æ–‡å­—è‰²ã¨ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ --- */

/* ãƒ›ãƒ¼ãƒ /é¸æŠç”»é¢ã®æ–‡å­—è‰² (æ˜¼å¤œå•ã‚ãšç™½è‰²ã‚’å¼·åˆ¶) */
#top-screen *, 
#selection-screen *,
#quiz-mode-selection-screen * { 
    color: var(--color-white) !important; 
}

/* å¤œé–“ãƒ†ãƒ¼ãƒæ™‚ã®æ–‡å­—ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ (Default) */
body:not(.light-theme) #top-screen *, 
body:not(.light-theme) #selection-screen *,
body:not(.light-theme) #quiz-mode-selection-screen * { 
    text-shadow: 0 0 10px #00f, 0 0 20px #00f; /* å¤œé–“ã®ã¿ãƒã‚ªãƒ³ */
}
body:not(.light-theme) #top-screen h1 {
    text-shadow: 0 0 15px #00f, 0 0 30px #00f, 0 0 45px #00f; /* å¤œé–“ã®ã¿ãƒã‚ªãƒ³ */
}

/* æ˜¼é–“ãƒ†ãƒ¼ãƒæ™‚ã®æ–‡å­—ã‚¨ãƒ•ã‚§ã‚¯ãƒˆã®ç„¡åŠ¹åŒ– */
body.light-theme #top-screen *,
body.light-theme #selection-screen *,
body.light-theme #quiz-mode-selection-screen * { 
    text-shadow: none !important; /* æ˜¼é–“ã¯ãƒã‚ªãƒ³ã‚¨ãƒ•ã‚§ã‚¯ãƒˆã‚’ç„¡åŠ¹åŒ– */
}

#top-screen h1 {
    font-size: 2.5em; 
    margin-bottom: 0.5em; 
}

/* --- ãƒœã‚¿ãƒ³åŸºæœ¬ã‚¹ã‚¿ã‚¤ãƒ« --- */
.action-button {
    background-color: var(--color-primary); color: var(--color-white);
    border: none; border-radius: 8px; padding: 15px 30px;
    cursor: pointer; font-size: 1.2em; font-weight: bold;
    transition: background-color 0.3s, transform 0.1s; margin: 5px;
}
.action-button:hover:not(:disabled) {
    filter: brightness(0.9); transform: translateY(-2px);
}
.action-button:disabled {
    cursor: not-allowed; opacity: 0.6;
}

/* --- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã¨æ™‚åˆ»è¡¨ç¤ºã®ä¿®æ­£ --- */

/* æ±ç”¨çš„ãªãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ - å·¦ä¸Šã«å›ºå®š */
.navigation-button {
    /* â˜…ä¿®æ­£: æ˜¼å¤œå•ã‚ãšæ–‡å­—è‰²ã‚’ç™½ã«å›ºå®š */
    color: var(--color-white) !important; 
    background: rgba(255, 255, 255, 0.1); 
    border: 1px solid rgba(255, 255, 255, 0.3); 
    padding: 10px 20px; cursor: pointer; font-size: 1em;
    position: fixed; 
    transition: background-color 0.2s; z-index: 10;
}
.navigation-button:hover { background: rgba(255, 255, 255, 0.3); }

/* é…ç½®èª¿æ•´: ã™ã¹ã¦ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ã‚’å·¦ä¸Šã«å›ºå®š */
#back-to-selection-top-button, 
#back-from-quiz-mode-button, 
#back-to-mode-selection-button,
#back-from-quiz-selection-button,
#back-from-personality-button {
    top: 20px;
    left: 20px;
    right: auto; 
}

/* ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ™‚åˆ»è¡¨ç¤º - å³ä¸Šã«å›ºå®š */
#current-time-display {
    position: fixed;
    top: 20px;
    right: 20px;
    padding: 10px 15px;
    border-radius: 5px;
    font-size: 1.2em;
    font-weight: bold;
    z-index: 10;
    /* â˜…ä¿®æ­£: æ˜¼å¤œå•ã‚ãšæ–‡å­—è‰²ã‚’ç™½ã«å›ºå®š */
    color: var(--color-white) !important; 
    background: rgba(255, 255, 255, 0.2); 
}
/* æ˜¼é–“èª¿æ•´ (èƒŒæ™¯è‰²ã®ã¿èª¿æ•´) */
body.light-theme #current-time-display {
    background: rgba(0, 0, 0, 0.1); 
}


/* ================================== */
/* 5. ã‚¯ã‚¤ã‚º/è¨ºæ–­ãƒ¢ãƒ¼ãƒ‰ UI */
/* ================================== */

/* ã‚¯ã‚¤ã‚º/è¨ºæ–­ã®ã‚«ãƒ¼ãƒ‰å…±é€šã‚¹ã‚¿ã‚¤ãƒ« (quiz-screen) - ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å•é¡Œå¯¾ç­– */
.quiz-screen {
    width: 90%; max-width: 600px;
    max-height: 90vh; /* æœ€å¤§é«˜ã•ã‚’åˆ¶é™ */
    overflow-y: auto; /* ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æœ‰åŠ¹åŒ– */
    
    background-color: rgba(255, 255, 255, 0.95); /* åŠé€æ˜ç™½ */
    color: var(--color-text); /* ã‚«ãƒ¼ãƒ‰å†…ã®æ–‡å­—ã¯é»’ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰ */
    padding: 30px; border-radius: 15px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.25); 
    text-align: center; backdrop-filter: blur(5px); 
    
    /* ğŸ’¡ ä¿®æ­£: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒä¸Šã«ãšã‚Œã‚‹ã®ã‚’é˜²ããŸã‚ã€flex-direction: columnã¨align-items: centerã¯ç¶­æŒ */
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}

/* ğŸ’¡ ä¿®æ­£: ç”»åƒã‚³ãƒ³ãƒ†ãƒŠã®ã‚¹ã‚¿ã‚¤ãƒ« - ç¸¦ä¸¦ã³ */
#quiz-image-container {
    display: flex;
    flex-direction: column; /* ç¸¦æ–¹å‘ã«è¨­å®š */
    justify-content: center; 
    align-items: center;
    gap: 10px; /* ç”»åƒé–“ã®ã‚¹ãƒšãƒ¼ã‚¹ */
    margin-bottom: 15px;
    max-width: 100%;
}

/* ã‚¯ã‚¤ã‚ºç”»åƒã‚¹ã‚¿ã‚¤ãƒ« */
/* ğŸ’¡ ä¿®æ­£: ç”»åƒã®é«˜ã•ã‚’ã•ã‚‰ã«å³ã—ãåˆ¶é™ */
.quiz-visual {
    /* <img>ã‚¿ã‚°ã«ã“ã®ã‚¯ãƒ©ã‚¹ãŒé©ç”¨ã•ã‚Œã‚‹ */
    max-width: 80%; /* ç¸¦ä¸¦ã³ãªã®ã§å¹…ã‚’åºƒã’ã‚‹ */
    max-height: 120px; /* â˜… å†ä¿®æ­£ç‚¹: é«˜ã•ã‚’ã•ã‚‰ã«å°ã•ãåˆ¶é™ */
    width: auto;
    height: auto;
    object-fit: contain;
    border: 1px solid #ccc;
    border-radius: 8px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
}

/* ğŸ’¡ ä¿®æ­£: ä¸æ­£è§£ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨è§£èª¬æ–‡ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ä¿®æ­£ */
#result-message {
    width: 100%; /* è¦ªè¦ç´ (quiz-screen)ã®å¹…ã„ã£ã±ã„ã‚’ä½¿ã† */
    text-align: left; /* ãƒ†ã‚­ã‚¹ãƒˆã‚’å·¦å¯„ã›ã« */
    padding: 10px;
    box-sizing: border-box; /* paddingã‚’å«ã‚ã¦widthã‚’è¨ˆç®— */
    line-height: 1.5;
}
#result-message small {
    display: block; /* <small>ã‚¿ã‚°ã‚’ãƒ–ãƒ­ãƒƒã‚¯è¦ç´ ã«ã—ã¦æ”¹è¡Œã‚’ç¢ºå®Ÿã«ã™ã‚‹ */
    margin-top: 5px;
}


/* é¸æŠè‚¢ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ */
#choices-container { 
    display: grid;
    grid-template-columns: 1fr 1fr; /* çŸ¥è­˜ã‚¯ã‚¤ã‚ºã¯2x2ã‚°ãƒªãƒƒãƒ‰ */
    gap: 15px;
    margin-bottom: 20px;
}
#p-options-container {
    display: grid;
    grid-template-columns: 1fr; /* æ€§æ ¼è¨ºæ–­ã¯æ¨ªä¸€åˆ— */
    gap: 15px;
    margin-bottom: 20px;
}

/* --- è¨ºæ–­ãƒ¢ãƒ¼ãƒ‰å°‚ç”¨ã‚¹ã‚¿ã‚¤ãƒ« --- */
.p-question-number {
    font-size: 14px;
    color: #6c757d;
    margin-top: 15px;
}

/* è¨ºæ–­ã®é¸æŠæ¸ˆã¿ãƒœã‚¿ãƒ³ï¼ˆSELECTEDï¼‰ */
.option-button.selected {
    background-color: var(--p-success-color); 
    border-color: var(--p-success-color);
    transform: scale(1.02);
}

/* è¨ºæ–­ã®éé¸æŠãƒœã‚¿ãƒ³ï¼ˆãƒˆãƒ¼ãƒ³ãƒ€ã‚¦ãƒ³ï¼‰ */
.option-button:disabled:not(.selected) {
    opacity: 0.4;
    cursor: default;
    background-color: #f8f9fa; 
    color: #6c757d;
    border-color: #dee2e6;
}

/* è¨ºæ–­çµæœã®ãƒœãƒƒã‚¯ã‚¹ */
#p-result-text {
    padding: 25px;
    border: 3px dashed var(--p-primary-color);
    border-radius: 10px;
    background-color: var(--p-background-color); 
    margin: 20px 0;
    white-space: pre-wrap;
    text-align: left;
    line-height: 1.8;
}

/* ã‚¹ã‚¿ãƒ¼ãƒˆ/ãƒªãƒˆãƒ©ã‚¤ãƒœã‚¿ãƒ³ã®è‰²ã‚’ç·‘ã« */
#start-quiz-button, #retry-quiz-button, #start-personality-button, #p-restart-button {
    background-color: var(--color-quiz-green); 
}
#start-quiz-button:hover, #retry-quiz-button:hover, #start-personality-button:hover, #p-restart-button:hover {
    background-color: #2ca05f; 
}

/* ã‚²ãƒ¼ãƒ ã‚’ã‚„ã‚ã‚‹ãƒœã‚¿ãƒ³ã®ã‚¹ã‚¿ã‚¤ãƒ« */
#quit-game-button, #p-quit-button {
    background-color: #78909C; 
    margin-top: 10px; 
}
#quit-game-button:hover, #p-quit-button:hover {
    background-color: #546E7A;
}